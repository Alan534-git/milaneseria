<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tienda - Din√°mica</title>
    <!-- Importa el nuevo archivo base de estilos (incluye Font Awesome y dark mode) -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">
</head>
<body>
    <div class="container">
        <header>
            <h1>üè™ Tienda Online</h1>
            <div class="header-right">
                <!-- Bot√≥n de Claro/Oscuro -->
                <button id="theme-toggle" aria-label="Cambiar tema">
                    <i class="fas fa-sun"></i>
                    <i class="fas fa-moon"></i>
                </button>
                <!-- Bot√≥n de Carrito -->
                <a href="/carrito" class="btn-carrito">
                    üõí Ver Carrito (<span id="cart-count">{{ total_cantidad }}</span>)
                </a>
            </div>
        </header>

        <hr>

        <h2>Nuestros Productos</h2>
        <div class="productos-container">
            {% for p in productos %}
                <div class="producto-card" data-product-id="{{ p.id }}">
                    <img src="{{ p.imagen }}" alt="Imagen de {{ p.nombre }}" class="producto-img">
                    <div class="producto-info">
                        <h3>{{ p.nombre }}</h3>

                        <div class="precio-refrescos-container">
                            <p class="precio-main">$<span class="milanesa-precio">{{ "%.2f"|format(p.precio) }}</span></p>

                            <!-- Selector de Refrescos (5 Marcas Conocidas) -->
                            <div class="refrescos-selector" data-base-price="{{ p.precio }}">
                                <!-- Los precios son ficticios para la simulaci√≥n -->
                                <button class="btn-refresco" data-refresco-id="1" data-price="1.50" aria-label="Refresco Coca-Cola">
                                    <i class="fa-solid fa-c"></i>
                                    <span class="tooltip-refresco">Refresco C: $1.50</span>
                                </button>
                                <button class="btn-refresco" data-refresco-id="2" data-price="1.75" aria-label="Refresco Pepsi">
                                    <i class="fa-solid fa-p"></i>
                                    <span class="tooltip-refresco">Refresco P: $1.75</span>
                                </button>
                                <button class="btn-refresco" data-refresco-id="3" data-price="1.25" aria-label="Refresco Sprite">
                                    <i class="fa-solid fa-s"></i>
                                    <span class="tooltip-refresco">Refresco S: $1.25</span>
                                </button>
                                <button class="btn-refresco" data-refresco-id="4" data-price="1.60" aria-label="Refresco Fanta">
                                    <i class="fa-solid fa-f"></i>
                                    <span class="tooltip-refresco">Refresco F: $1.60</span>
                                </button>
                                <button class="btn-refresco" data-refresco-id="5" data-price="1.00" aria-label="Refresco 7Up">
                                    <i class="fa-solid fa-7"></i>
                                    <span class="tooltip-refresco">Refresco 7: $1.00</span>
                                </button>
                            </div>
                        </div>

                        <a href="/agregar/{{ p.id }}" class="btn-agregar" data-product-id="{{ p.id }}" data-refresco-price="0">
                            ‚ûï Agregar al carrito
                        </a>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/index.js') }}"></script>
</body>
</html>
